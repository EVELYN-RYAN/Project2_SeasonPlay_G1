<html>
    <!--Homework 8 Group 1
    Anna DeLange
    Jackson Franks
    Kylar Hobbs
    Ryan Evelyn-->  
    <head>
    </head>
    <body>
    <form>
    <ul id="teamList">
        <li>BYU</li>
        <li>Gonzaga</li>
        <li>Loyola</li>
        <li>Pacific</li>
        <li>Pepperdine</li>
        <li>Portland</li>
        <li>Saint Marys</li>
        <li>San Diego</li>
        <li>San Francisco</li>
        <li>Santa Clara</li>
    </ul>
    <br><br>
    <input type="button" value="Play Game" onclick="playGame()">
    <br><br>
    <p>Season Results:</p>
    <p id="output"></p>    
    </form>
    <script>

         // Place variable and object info here
        // Local Variables
   class Team {
        /*** Define Attributes***/
        teamName;
        wins;
        losses;
        winLossPct;
        games;

        /*** define Constructor***/
            constructor () {
                this.teamName = "";
                this.wins = 0; 
                this.losses = 0;
                this.winLossPct = 0;


                class Game {
                    myScore;
                    theirScore;
                    winOrLoss;
                    
                    constructor(pMyScore, pTheirScore,pWinOrLoss){
                        this.myScore = pMyScore;
                        this.theirScore = pTheirScore;
                        this.winOrLoss = pWinOrLoss;
                    }
                }

            }
        /*** Define Method***/
        getTeam() {
            //returns TeamName
            return this.teamName;
        }
        setTeam(pTeamName) {
            //receives parameter used to set instance variable teamName
            let aTeamName = "";
            aTeamName = aTeams[pTeamName];
            this.teamName = aTeamName;
        }
        setWinsLosses(pWins, pLosses) {
            //receives TWO parameters used to set wins and losses variables
            this.wins+=pWins;
            this.losses+=pLosses;
            //calculate winLossPct variable
            calcWinLossPct();

        }
        getWins() {
            //returns number of wins
            return this.wins;
        }
        getLosses() {
            //returns number of losses
            return this.losses;
        }
        calcWinLossPct(){
            //calculates and updates winLossPct
            return this.wins / this.losses;
        }

        }
        // Build the child object extending Parent
        class BasketballTeam extends Team {
            /*** Define Attributes***/
            totalPointsFor;
            totalPointsAgainst;

            /*** define Constructor***/
            constructor() {
                super();
                this.totalPointsAgainst= 0;
                this.totalPointsFor=0;
            }
            /*** Define Method***/
            addPointsFor(pInt) {
                //receives int parameter
                // value is added to totalPointsFor instance variable;
                this.totalPointsFor +=pInt;
            }
            addPointsAgainst(pInt2){
                // receives int parameter
                //value added to totalPointsAgainst
                this.totalPointsAgainst +=pInt2;
            }
            getAllPoints(){
                //returns a string with totalPointsFor and totalPointsAgainst
                // "Points for XX and Points Against XX where XX is the values of the instance variables"
                return "Points for " + this.totalPointsFor + " and Points Against " + this.totalPointsAgainst;
            }
        }

         
        // Place variable and object info here
        // Local Variables
        var aTeams = [];
        var aoTeams = [];

        
        for (i = 1; i <= 20; ++i)  {
            aTeams.push(document.getElementById("teamList").childNodes[i].innerHTML);
            i++;
        }
        // generate game results --> assign to arrays (this pretty much HW5 copy and past would be helpful)


        // sort arrays

        // document.getElementById("output").value = seasonResults  
       for (var key in aTeams) {
                var oTeam = new Team();
                oTeam.teamName = aTeams[key];
                aoTeams.push(oTeam);

         }
        console.log(aoTeams);

          function playGame(){
            //var oGame = new Game();
            pWins = 0;
            pLosses = 0;
           

            for (i=0;i<=9;++i) {

                for(j=1;j<=9;++j) {

                
                //create random score for 2 teams
                
                //aoTeams[i].winLossPct = calcWinLossPct();
               
                var win = "W"
                var loss = "L"
                //oTeam.getTeam();

                pMyScore = Math.floor(Math.random() * 101);
                pTheirScore = Math.floor(Math.random() * 101);
            
                //if game number is even, game is away--otherScore gets 5 points added
                if (i % 2 == 0 && pMyScore != pTheirScore) {
                    pMyScore = pMyScore
                    pTheirScore = pTheirScore + 5
                }
                //if game number is odd, game is home--teamScoree gets 5 points added
                else if (pMyScore != pTheirScore) {
                    pMyScore = pMyScore + 5 
                    pTheirScore = pTheirScore
                }
                //if game is tied, play until someone wins, then add number of OTs to array
                else {
                    do {
                        pMyScore = pMyScore + Math.floor(Math.random() * 16);
                        pTheirScore = pTheirScore + Math.floor(Math.random() * 16);
                    } while (pMyScore === pTheirScore);  
                }

              if (pMyScore > pTheirScore) {
                pWins = pWins + 1;
                pWinOrLoss = win;
                } 
                else if (pMyScore < pTheirScore) {
                    pLosses = pLosses + 1;
                    pWinOrLoss = loss;
                }
                
                var updateScores = new BasketballTeam();
                //aoTeams.push(new BasketballTeam());
                aoTeams[i].teamName = aTeams[i];
                aoTeams[i].wins = pWins;
                aoTeams[i].losses = pLosses;

                updateScores.addPointsFor(pMyScore);
                updateScores.addPointsAgainst(pTheirScore);
                updateScores.calcWinLossPct();

            //var oTeam = new Team(pMyScore, pTheirScore, pWinOrLoss);

             // sort arrays

            // display results
            console.log(aoTeams);
            var output = "";
            for (var key in aoTeams){
                output += aoTeams[key].teamName + ": " + aoTeams[key].wins + "-" + aoTeams[key].losses + "</br>";
                console.log(aoTeams) 
            }   
            
            }
        }
        document.getElementById("output").innerHTML = output
    }
    
       
    </script>
</body>
</html>
